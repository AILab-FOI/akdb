\hypertarget{archive__log_8h}{}\section{rec/archive\+\_\+log.h File Reference}
\label{archive__log_8h}\index{rec/archive\+\_\+log.\+h@{rec/archive\+\_\+log.\+h}}
{\ttfamily \#include \char`\"{}../file/table.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sys/time.\+h\char`\"{}}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../auxi/mempro.\+h\char`\"{}}\newline
Include dependency graph for archive\+\_\+log.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{archive__log_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{archive__log_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{archive__log_8h_a72fad2939e983ee9fd31703c34a25db3}{A\+K\+\_\+archive\+\_\+log} (int sig)
\begin{DoxyCompactList}\small\item\em Function for making archive log. \end{DoxyCompactList}\item 
void \hyperlink{archive__log_8h_ab66ddb0fcb23ecdc7ad2a62feb6cc40b}{A\+K\+\_\+empty\+\_\+archive\+\_\+log} ()
\item 
char $\ast$ \hyperlink{archive__log_8h_aeb31379a188616575d445bcb0fd6a982}{A\+K\+\_\+get\+\_\+timestamp} ()
\begin{DoxyCompactList}\small\item\em Function that returns the current timestamp. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Header file that provides data structures for archive logging 

\subsection{Function Documentation}
\mbox{\Hypertarget{archive__log_8h_a72fad2939e983ee9fd31703c34a25db3}\label{archive__log_8h_a72fad2939e983ee9fd31703c34a25db3}} 
\index{archive\+\_\+log.\+h@{archive\+\_\+log.\+h}!A\+K\+\_\+archive\+\_\+log@{A\+K\+\_\+archive\+\_\+log}}
\index{A\+K\+\_\+archive\+\_\+log@{A\+K\+\_\+archive\+\_\+log}!archive\+\_\+log.\+h@{archive\+\_\+log.\+h}}
\subsubsection{\texorpdfstring{A\+K\+\_\+archive\+\_\+log()}{AK\_archive\_log()}}
{\footnotesize\ttfamily void A\+K\+\_\+archive\+\_\+log (\begin{DoxyParamCaption}\item[{int}]{sig }\end{DoxyParamCaption})}



Function for making archive log. 

Function creates a binary file that stores all commands that failed to execute with a number that shows the size of how many commands failed. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000001}{Todo}]this function takes static filename to store the failed commands, create certain logic that would make the function to use dynamic filename (this is partly implemented inside A\+K\+\_\+get\+\_\+timestamp, but there is no logic that uses the last file when recovering -\/ \hyperlink{recovery_8c}{recovery.\+c}) \{link\} \hyperlink{recovery_8c}{recovery.\+c} function test \end{DoxyRefDesc}
\begin{DoxyAuthor}{Author}
Dražen Bandić, update by Tomislav Turek 
\end{DoxyAuthor}
\begin{DoxyReturn}{Returns}
No retun value 
\end{DoxyReturn}
\mbox{\Hypertarget{archive__log_8h_ab66ddb0fcb23ecdc7ad2a62feb6cc40b}\label{archive__log_8h_ab66ddb0fcb23ecdc7ad2a62feb6cc40b}} 
\index{archive\+\_\+log.\+h@{archive\+\_\+log.\+h}!A\+K\+\_\+empty\+\_\+archive\+\_\+log@{A\+K\+\_\+empty\+\_\+archive\+\_\+log}}
\index{A\+K\+\_\+empty\+\_\+archive\+\_\+log@{A\+K\+\_\+empty\+\_\+archive\+\_\+log}!archive\+\_\+log.\+h@{archive\+\_\+log.\+h}}
\subsubsection{\texorpdfstring{A\+K\+\_\+empty\+\_\+archive\+\_\+log()}{AK\_empty\_archive\_log()}}
{\footnotesize\ttfamily void A\+K\+\_\+empty\+\_\+archive\+\_\+log (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Empties archive log \mbox{\Hypertarget{archive__log_8h_aeb31379a188616575d445bcb0fd6a982}\label{archive__log_8h_aeb31379a188616575d445bcb0fd6a982}} 
\index{archive\+\_\+log.\+h@{archive\+\_\+log.\+h}!A\+K\+\_\+get\+\_\+timestamp@{A\+K\+\_\+get\+\_\+timestamp}}
\index{A\+K\+\_\+get\+\_\+timestamp@{A\+K\+\_\+get\+\_\+timestamp}!archive\+\_\+log.\+h@{archive\+\_\+log.\+h}}
\subsubsection{\texorpdfstring{A\+K\+\_\+get\+\_\+timestamp()}{AK\_get\_timestamp()}}
{\footnotesize\ttfamily char$\ast$ A\+K\+\_\+get\+\_\+timestamp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Function that returns the current timestamp. 

This function returns the current timestamp that could be concatenated to a log file in future usages. \begin{DoxyAuthor}{Author}
Dražen Bandić main logic, replaced by Tomislav Turek 
\end{DoxyAuthor}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]Think about this in the future when creating multiple binary recovery files. Implementation gives the timestamp, but is not used anywhere for now. \end{DoxyRefDesc}
\begin{DoxyReturn}{Returns}
char array in format day.\+month.\+year-\/hour\+:min\+:sec.\+usecu.\+log 
\end{DoxyReturn}
