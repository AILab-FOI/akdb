
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0b8cd375c317792b95eba87076cd6518.html">rel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">theta_join.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="theta__join_8h_source.html">theta_join.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for theta_join.c:</div>
<div class="dyncontent">
<div class="center"><img src="theta__join_8c__incl.png" border="0" usemap="#rel_2theta__join_8c" alt=""/></div>
<map name="rel_2theta__join_8c" id="rel_2theta__join_8c">
<area shape="rect" id="node2" href="theta__join_8h.html" title="theta_join.h" alt="" coords="2095,80,2193,107"/>
<area shape="rect" id="node3" href="expression__check_8h.html" title="expression_check.h" alt="" coords="2069,155,2219,181"/>
<area shape="rect" id="node17" href="mempro_8h.html" title="mempro.h" alt="" coords="1554,1125,1643,1152"/>
<area shape="rect" id="node30" href="fileio_8h.html" title="../file/fileio.h" alt="" coords="1689,229,1793,256"/>
<area shape="rect" id="node4" href="table_8h.html" title="../file/table.h" alt="" coords="1683,603,1787,629"/>
<area shape="rect" id="node5" href="memoman_8h.html" title="../mm/memoman.h" alt="" coords="1263,677,1409,704"/>
<area shape="rect" id="node6" href="dbman_8h.html" title="../dm/dbman.h" alt="" coords="917,752,1033,779"/>
<area shape="rect" id="node7" href="auxiliary_8h.html" title="../auxi/auxiliary.h" alt="" coords="1270,827,1405,853"/>
<area shape="rect" id="node8" href="constants_8h.html" title="constants.h" alt="" coords="246,901,343,928"/>
<area shape="rect" id="node9" href="configuration_8h_source.html" title="configuration.h" alt="" coords="560,901,680,928"/>
<area shape="rect" id="node23" href="debug_8h.html" title="debug.h" alt="" coords="505,1051,580,1077"/>
<area shape="rect" id="node10" href="iniparser_8h.html" title="Parser for ini files. " alt="" coords="831,976,921,1003"/>
<area shape="rect" id="node15" href="dictionary_8h.html" title="Implements a dictionary for string variables. " alt="" coords="827,1051,925,1077"/>
<area shape="rect" id="node31" href="reference_8h.html" title="../sql/cs/reference.h" alt="" coords="1384,528,1533,555"/>
<area shape="rect" id="node32" href="recovery_8h_source.html" title="../rec/recovery.h" alt="" coords="1270,304,1397,331"/>
<area shape="rect" id="node33" href="archive__log_8h.html" title="../rec/archive_log.h" alt="" coords="755,528,901,555"/>
<area shape="rect" id="node35" href="files_8h.html" title="files.h" alt="" coords="2051,453,2114,480"/>
<area shape="rect" id="node39" href="redo__log_8h_source.html" title="../rec/redo_log.h" alt="" coords="449,453,575,480"/>
<area shape="rect" id="node34" href="test_8h.html" title="../file/test.h" alt="" coords="1880,379,1976,405"/>
<area shape="rect" id="node37" href="rel__eq__selection_8h.html" title="../opti/rel_eq_selection.h" alt="" coords="1659,528,1840,555"/>
<area shape="rect" id="node36" href="id_8h.html" title="id.h" alt="" coords="2017,528,2063,555"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a52fbdb3f076762aff6f2533b2c68a95b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="theta__join_8c.html#a52fbdb3f076762aff6f2533b2c68a95b">AK_create_theta_join_header</a> (char *srcTable1, char *srcTable2, char *new_table)</td></tr>
<tr class="memdesc:a52fbdb3f076762aff6f2533b2c68a95b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for creating the header of the new table for theta join.  <a href="#a52fbdb3f076762aff6f2533b2c68a95b">More...</a><br /></td></tr>
<tr class="separator:a52fbdb3f076762aff6f2533b2c68a95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc06221d7a4b4d337236515ca4f11e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="theta__join_8c.html#a6cc06221d7a4b4d337236515ca4f11e4">AK_check_constraints</a> (<a class="el" href="structAK__block.html">AK_block</a> *tbl1_temp_block, <a class="el" href="structAK__block.html">AK_block</a> *tbl2_temp_block, int tbl1_num_att, int tbl2_num_att, struct <a class="el" href="structlist__node.html">list_node</a> *constraints, char *new_table)</td></tr>
<tr class="memdesc:a6cc06221d7a4b4d337236515ca4f11e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function iterates through blocks of the two tables and copies the rows which pass the constraint check into the new table.  <a href="#a6cc06221d7a4b4d337236515ca4f11e4">More...</a><br /></td></tr>
<tr class="separator:a6cc06221d7a4b4d337236515ca4f11e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac229e6488e438dc8b81b21336f25b09c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="theta__join_8c.html#ac229e6488e438dc8b81b21336f25b09c">AK_theta_join</a> (char *srcTable1, char *srcTable2, char *dstTable, struct <a class="el" href="structlist__node.html">list_node</a> *constraints)</td></tr>
<tr class="memdesc:ac229e6488e438dc8b81b21336f25b09c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for creating a theta join betwen two tables on specified conditions. Names of the attibutes in the constraints parameter must be prefixed with the table name followed by a dot if and only if they exist in both tables. This is left for the preprocessing. Also, for now the constraints must come from the two source tables and not from a third.  <a href="#ac229e6488e438dc8b81b21336f25b09c">More...</a><br /></td></tr>
<tr class="separator:ac229e6488e438dc8b81b21336f25b09c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79338e9866f3daa448b9154fcba844af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="theta__join_8c.html#a79338e9866f3daa448b9154fcba844af">AK_op_theta_join_test</a> ()</td></tr>
<tr class="memdesc:a79338e9866f3daa448b9154fcba844af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for testing the theta join.  <a href="#a79338e9866f3daa448b9154fcba844af">More...</a><br /></td></tr>
<tr class="separator:a79338e9866f3daa448b9154fcba844af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides functions for relational theta join operation </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6cc06221d7a4b4d337236515ca4f11e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc06221d7a4b4d337236515ca4f11e4">&#9670;&nbsp;</a></span>AK_check_constraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_check_constraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAK__block.html">AK_block</a> *&#160;</td>
          <td class="paramname"><em>tbl1_temp_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAK__block.html">AK_block</a> *&#160;</td>
          <td class="paramname"><em>tbl2_temp_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tbl1_num_att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tbl2_num_att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>constraints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>new_table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function iterates through blocks of the two tables and copies the rows which pass the constraint check into the new table. </p>
<dl class="section author"><dt>Author</dt><dd>Tomislav Mikulƒçek </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tbl1_temp_block</td><td>block of the first table </td></tr>
    <tr><td class="paramname">tbl2_temp_block</td><td>block of the second join table </td></tr>
    <tr><td class="paramname">tbl1_num_att</td><td>number of attributes in the first table </td></tr>
    <tr><td class="paramname">tbl2_num_att</td><td>number of attributes in the second table </td></tr>
    <tr><td class="paramname">constraints</td><td>list of attributes, (in)equality and logical operators which are the conditions for the join in postfix notation </td></tr>
    <tr><td class="paramname">new_table</td><td>name of the theta_join table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="a52fbdb3f076762aff6f2533b2c68a95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fbdb3f076762aff6f2533b2c68a95b">&#9670;&nbsp;</a></span>AK_create_theta_join_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_create_theta_join_header </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>srcTable1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>srcTable2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>new_table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for creating the header of the new table for theta join. </p>
<dl class="section author"><dt>Author</dt><dd>Tomislav Mikulƒçek </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcTable1</td><td>name of the first table </td></tr>
    <tr><td class="paramname">srcTable2</td><td>name of the second table </td></tr>
    <tr><td class="paramname">new_table</td><td>name of the destination table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EXIT_SUCCESS if the header was successfully created and EXIT_ERROR if the renamed headers are too long </dd></dl>

</div>
</div>
<a id="a79338e9866f3daa448b9154fcba844af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79338e9866f3daa448b9154fcba844af">&#9670;&nbsp;</a></span>AK_op_theta_join_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AK_op_theta_join_test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for testing the theta join. </p>
<dl class="section author"><dt>Author</dt><dd>Tomislav Mikulƒçek </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>No return value </dd></dl>

</div>
</div>
<a id="ac229e6488e438dc8b81b21336f25b09c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac229e6488e438dc8b81b21336f25b09c">&#9670;&nbsp;</a></span>AK_theta_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AK_theta_join </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>srcTable1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>srcTable2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dstTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlist__node.html">list_node</a> *&#160;</td>
          <td class="paramname"><em>constraints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for creating a theta join betwen two tables on specified conditions. Names of the attibutes in the constraints parameter must be prefixed with the table name followed by a dot if and only if they exist in both tables. This is left for the preprocessing. Also, for now the constraints must come from the two source tables and not from a third. </p>
<dl class="section author"><dt>Author</dt><dd>Tomislav Mikulƒçek,updated by Nikola Miljancic </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srcTable1</td><td>name of the first table to join </td></tr>
    <tr><td class="paramname">srcTable2</td><td>name of the second table to join </td></tr>
    <tr><td class="paramname">constraints</td><td>list of attributes, (in)equality and logical operators which are the conditions for the join in postfix notation </td></tr>
    <tr><td class="paramname">dstTable</td><td>name of the theta join table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if successful returns EXIT_SUCCESS and EXIT_ERROR otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->

