
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structAK__block__activity-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AK_block_activity Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Structure which holds information about each block, whether it is locked for reading or writing. It is important to note such information, to enable quick and thread-safe reading from or writing to disk. Structure contains of: locked_for_reading - thread which locks particular block for reading will set this value locked_for_writing - thread which locks particular block for writing will set this value block_lock - each reading and writing operation will be done atomically and uninteruptable, using this mutex block lock reading_done - represents signal, which sends thread that just finished reading block. This signal will indicate that writing thread can start writing to block writing_done - represents signal, which sends thread that just finished writing to block. This signal will indicate that other threads can start reading from this block or even writing to it thread_holding_lock - the only thread which can unlock locked "block_lock" is the one that locked it. This variable makes sure that ONLY the thread, which actually holds the lock, releases it.  
 <a href="structAK__block__activity.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dbman_8h_source.html">dbman.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a947c78ec4ae287c627d85ce532a0a4f8"><td class="memItemLeft" align="right" valign="top"><a id="a947c78ec4ae287c627d85ce532a0a4f8"></a>
short&#160;</td><td class="memItemRight" valign="bottom"><b>locked_for_reading</b></td></tr>
<tr class="separator:a947c78ec4ae287c627d85ce532a0a4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa435ca3457738c4ceb3d087d5c215186"><td class="memItemLeft" align="right" valign="top"><a id="aa435ca3457738c4ceb3d087d5c215186"></a>
short&#160;</td><td class="memItemRight" valign="bottom"><b>locked_for_writing</b></td></tr>
<tr class="separator:aa435ca3457738c4ceb3d087d5c215186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c5e7630a1806d1a7479ede0ba59dcd"><td class="memItemLeft" align="right" valign="top"><a id="ae7c5e7630a1806d1a7479ede0ba59dcd"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>block_lock</b></td></tr>
<tr class="separator:ae7c5e7630a1806d1a7479ede0ba59dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6558ddec7ea39eee98d754d2269c6c84"><td class="memItemLeft" align="right" valign="top"><a id="a6558ddec7ea39eee98d754d2269c6c84"></a>
pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><b>writing_done</b></td></tr>
<tr class="separator:a6558ddec7ea39eee98d754d2269c6c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae66eb07e2f614d849d3acc9f429e651"><td class="memItemLeft" align="right" valign="top"><a id="aae66eb07e2f614d849d3acc9f429e651"></a>
pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><b>reading_done</b></td></tr>
<tr class="separator:aae66eb07e2f614d849d3acc9f429e651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8239ee1bd19ab4ff0352e0dda2bff5"><td class="memItemLeft" align="right" valign="top"><a id="a2a8239ee1bd19ab4ff0352e0dda2bff5"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>thread_holding_lock</b></td></tr>
<tr class="separator:a2a8239ee1bd19ab4ff0352e0dda2bff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structure which holds information about each block, whether it is locked for reading or writing. It is important to note such information, to enable quick and thread-safe reading from or writing to disk. Structure contains of: locked_for_reading - thread which locks particular block for reading will set this value locked_for_writing - thread which locks particular block for writing will set this value block_lock - each reading and writing operation will be done atomically and uninteruptable, using this mutex block lock reading_done - represents signal, which sends thread that just finished reading block. This signal will indicate that writing thread can start writing to block writing_done - represents signal, which sends thread that just finished writing to block. This signal will indicate that other threads can start reading from this block or even writing to it thread_holding_lock - the only thread which can unlock locked "block_lock" is the one that locked it. This variable makes sure that ONLY the thread, which actually holds the lock, releases it. </p>
<dl class="section author"><dt>Author</dt><dd>Domagoj Å itum </dd></dl>
</div><hr/>The documentation for this struct was generated from the following file:<ul>
<li>dm/<a class="el" href="dbman_8h_source.html">dbman.h</a></li>
</ul>
</div><!-- contents -->

