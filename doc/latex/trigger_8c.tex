\hypertarget{trigger_8c}{\section{sql/trigger.c File Reference}
\label{trigger_8c}\index{sql/trigger.\+c@{sql/trigger.\+c}}
}
{\ttfamily \#include \char`\"{}trigger.\+h\char`\"{}}\\*
Include dependency graph for trigger.\+c\+:
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{trigger_8c_a38811626ecbd7e6bb1cc8820ead9199f}{A\+K\+\_\+trigger\+\_\+save\+\_\+conditions} (int trigger, struct list\+\_\+node $\ast$condition)
\begin{DoxyCompactList}\small\item\em Saves conditions for a trigger. \end{DoxyCompactList}\item 
int \hyperlink{trigger_8c_aab7b601863091d0708653c8f817b3cf8}{A\+K\+\_\+trigger\+\_\+add} (char $\ast$name, char $\ast$event, struct list\+\_\+node $\ast$condition, char $\ast$table, char $\ast$function)
\begin{DoxyCompactList}\small\item\em Function that adds a trigger to system table. \end{DoxyCompactList}\item 
int \hyperlink{trigger_8c_a49f3375c2693be93bd370895bea42b0a}{A\+K\+\_\+trigger\+\_\+get\+\_\+id} (char $\ast$name, char $\ast$table)
\begin{DoxyCompactList}\small\item\em Function that gets obj\+\_\+id of a trigger defined by name and table. \end{DoxyCompactList}\item 
int \hyperlink{trigger_8c_a256bc5cfe1886dba1310fc849668a635}{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name} (char $\ast$name, char $\ast$table)
\begin{DoxyCompactList}\small\item\em Function that removes a trigger from system table by name. \end{DoxyCompactList}\item 
int \hyperlink{trigger_8c_a5580f5dfc669b80c2c5f2f482d784494}{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id} (int obj\+\_\+id)
\begin{DoxyCompactList}\small\item\em Function removes a trigger by its obj\+\_\+id. \end{DoxyCompactList}\item 
int \hyperlink{trigger_8c_aa5218f2c11756674db7080b6ba62ebe4}{A\+K\+\_\+trigger\+\_\+edit} (char $\ast$name, char $\ast$event, struct list\+\_\+node $\ast$condition, char $\ast$table, char $\ast$function)
\begin{DoxyCompactList}\small\item\em Function edits information about the trigger in system table. In order to identify the trigger, either obj\+\_\+id or table and name parameters should be defined. The other options should be set to N\+U\+L\+L. Values of parameters that aren't changing can be left N\+U\+L\+L. If conditions are to be removed, condition parameter should hold an empty list. \end{DoxyCompactList}\item 
struct list\+\_\+node $\ast$ \hyperlink{trigger_8c_a1b6b1d8b82240230cca2a8d570d2f03e}{A\+K\+\_\+trigger\+\_\+get\+\_\+conditions} (int trigger)
\begin{DoxyCompactList}\small\item\em Function gets postfix list of conditions for the trigger (compatible with selection) \end{DoxyCompactList}\item 
int \hyperlink{trigger_8c_a54b8df0db010c361c9d110521f896c81}{A\+K\+\_\+trigger\+\_\+rename} (char $\ast$old\+\_\+name, char $\ast$new\+\_\+name, char $\ast$table)
\begin{DoxyCompactList}\small\item\em Function renames the trigger. \end{DoxyCompactList}\item 
void \hyperlink{trigger_8c_a25769445eb63fbe7d8aaee161b463a9a}{A\+K\+\_\+trigger\+\_\+test} ()
\begin{DoxyCompactList}\small\item\em Function for trigger testing. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Provides functions for triggers 

\subsection{Function Documentation}
\hypertarget{trigger_8c_aab7b601863091d0708653c8f817b3cf8}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+add@{A\+K\+\_\+trigger\+\_\+add}}
\index{A\+K\+\_\+trigger\+\_\+add@{A\+K\+\_\+trigger\+\_\+add}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+add}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+add (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{event, }
\item[{struct list\+\_\+node $\ast$}]{condition, }
\item[{char $\ast$}]{table, }
\item[{char $\ast$}]{function}
\end{DoxyParamCaption}
)}}\label{trigger_8c_aab7b601863091d0708653c8f817b3cf8}


Function that adds a trigger to system table. 

\begin{DoxyAuthor}{Author}
Unknown 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em $\ast$name} & name of the trigger \\
\hline
{\em $\ast$event} & event that calls the trigger -\/ this should perhaps be an integer with defined constants... \\
\hline
{\em $\ast$condition} & A\+K\+\_\+list list of conditions in postfix \\
\hline
{\em $\ast$table} & name of the table trigger is hooked on \\
\hline
{\em $\ast$function} & function that is being called by the trigger \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
trigger id or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_aa5218f2c11756674db7080b6ba62ebe4}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+edit@{A\+K\+\_\+trigger\+\_\+edit}}
\index{A\+K\+\_\+trigger\+\_\+edit@{A\+K\+\_\+trigger\+\_\+edit}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+edit}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+edit (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{event, }
\item[{struct list\+\_\+node $\ast$}]{condition, }
\item[{char $\ast$}]{table, }
\item[{char $\ast$}]{function}
\end{DoxyParamCaption}
)}}\label{trigger_8c_aa5218f2c11756674db7080b6ba62ebe4}


Function edits information about the trigger in system table. In order to identify the trigger, either obj\+\_\+id or table and name parameters should be defined. The other options should be set to N\+U\+L\+L. Values of parameters that aren't changing can be left N\+U\+L\+L. If conditions are to be removed, condition parameter should hold an empty list. 

\begin{DoxyAuthor}{Author}
Unknown 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em $\ast$name} & name of the trigger (or N\+U\+L\+L if using obj\+\_\+id) \\
\hline
{\em $\ast$event} & event of the trigger (or N\+U\+L\+L if it isn't changing) \\
\hline
{\em $\ast$condition} & list of conditions for trigger (or N\+U\+L\+L if it isn't changing; empty list if all conditions are to be removed) \\
\hline
{\em $\ast$table} & name of the connected table (or N\+U\+L\+L id using obj\+\_\+id) \\
\hline
{\em $\ast$function} & name of the connected function (or N\+U\+L\+L if it isn't changing) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_a1b6b1d8b82240230cca2a8d570d2f03e}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+get\+\_\+conditions@{A\+K\+\_\+trigger\+\_\+get\+\_\+conditions}}
\index{A\+K\+\_\+trigger\+\_\+get\+\_\+conditions@{A\+K\+\_\+trigger\+\_\+get\+\_\+conditions}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+get\+\_\+conditions}]{\setlength{\rightskip}{0pt plus 5cm}struct list\+\_\+node$\ast$ A\+K\+\_\+trigger\+\_\+get\+\_\+conditions (
\begin{DoxyParamCaption}
\item[{int}]{trigger}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a1b6b1d8b82240230cca2a8d570d2f03e}


Function gets postfix list of conditions for the trigger (compatible with selection) 

\begin{DoxyAuthor}{Author}
Unknown, updated by Mario Peroković 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em trigger} & obj\+\_\+id of the trigger \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
list of conditions for the trigger 
\end{DoxyReturn}
\hypertarget{trigger_8c_a49f3375c2693be93bd370895bea42b0a}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+get\+\_\+id@{A\+K\+\_\+trigger\+\_\+get\+\_\+id}}
\index{A\+K\+\_\+trigger\+\_\+get\+\_\+id@{A\+K\+\_\+trigger\+\_\+get\+\_\+id}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+get\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+get\+\_\+id (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{table}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a49f3375c2693be93bd370895bea42b0a}


Function that gets obj\+\_\+id of a trigger defined by name and table. 

\begin{DoxyAuthor}{Author}

\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em $\ast$name} & name of the trigger \\
\hline
{\em $\ast$table} & name of the table on which the trigger is hooked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
obj\+\_\+id of the trigger or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_a256bc5cfe1886dba1310fc849668a635}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name@{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name}}
\index{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name@{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+name (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{table}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a256bc5cfe1886dba1310fc849668a635}


Function that removes a trigger from system table by name. 

\begin{DoxyAuthor}{Author}
Unknown 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em $\ast$name} & name of the trigger \\
\hline
{\em $\ast$table} & name of the table \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_a5580f5dfc669b80c2c5f2f482d784494}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id@{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id}}
\index{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id@{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+remove\+\_\+by\+\_\+obj\+\_\+id (
\begin{DoxyParamCaption}
\item[{int}]{obj\+\_\+id}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a5580f5dfc669b80c2c5f2f482d784494}


Function removes a trigger by its obj\+\_\+id. 

\begin{DoxyAuthor}{Author}
Unknown 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em obj\+\_\+id} & obj\+\_\+id of the trigger \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_a54b8df0db010c361c9d110521f896c81}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+rename@{A\+K\+\_\+trigger\+\_\+rename}}
\index{A\+K\+\_\+trigger\+\_\+rename@{A\+K\+\_\+trigger\+\_\+rename}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+rename}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+rename (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{old\+\_\+name, }
\item[{char $\ast$}]{new\+\_\+name, }
\item[{char $\ast$}]{table}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a54b8df0db010c361c9d110521f896c81}


Function renames the trigger. 

\begin{DoxyAuthor}{Author}
Ljubo Barać 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em old\+\_\+name} & Name of the trigger to be renamed \\
\hline
{\em new\+\_\+name} & New name of the trigger \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_a38811626ecbd7e6bb1cc8820ead9199f}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+save\+\_\+conditions@{A\+K\+\_\+trigger\+\_\+save\+\_\+conditions}}
\index{A\+K\+\_\+trigger\+\_\+save\+\_\+conditions@{A\+K\+\_\+trigger\+\_\+save\+\_\+conditions}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+save\+\_\+conditions}]{\setlength{\rightskip}{0pt plus 5cm}int A\+K\+\_\+trigger\+\_\+save\+\_\+conditions (
\begin{DoxyParamCaption}
\item[{int}]{trigger, }
\item[{struct list\+\_\+node $\ast$}]{condition}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a38811626ecbd7e6bb1cc8820ead9199f}


Saves conditions for a trigger. 

\begin{DoxyAuthor}{Author}
Unknown, updated by Mario Peroković, check if data is T\+Y\+P\+E\+\_\+\+I\+N\+T 
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em trigger} & obj\+\_\+id of the trigger in question \\
\hline
{\em $\ast$condition} & A\+K\+\_\+list list of conditions \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S or E\+X\+I\+T\+\_\+\+E\+R\+R\+O\+R 
\end{DoxyReturn}
\hypertarget{trigger_8c_a25769445eb63fbe7d8aaee161b463a9a}{\index{trigger.\+c@{trigger.\+c}!A\+K\+\_\+trigger\+\_\+test@{A\+K\+\_\+trigger\+\_\+test}}
\index{A\+K\+\_\+trigger\+\_\+test@{A\+K\+\_\+trigger\+\_\+test}!trigger.\+c@{trigger.\+c}}
\subsubsection[{A\+K\+\_\+trigger\+\_\+test}]{\setlength{\rightskip}{0pt plus 5cm}void A\+K\+\_\+trigger\+\_\+test (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{trigger_8c_a25769445eb63fbe7d8aaee161b463a9a}


Function for trigger testing. 

\begin{DoxyAuthor}{Author}
Unknown 
\end{DoxyAuthor}
