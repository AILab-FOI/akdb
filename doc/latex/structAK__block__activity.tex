\hypertarget{structAK__block__activity}{}\section{A\+K\+\_\+block\+\_\+activity Struct Reference}
\label{structAK__block__activity}\index{A\+K\+\_\+block\+\_\+activity@{A\+K\+\_\+block\+\_\+activity}}


Structure which holds information about each block, whether it is locked for reading or writing. It is important to note such information, to enable quick and thread-\/safe reading from or writing to disk. Structure contains of\+: locked\+\_\+for\+\_\+reading -\/ thread which locks particular block for reading will set this value locked\+\_\+for\+\_\+writing -\/ thread which locks particular block for writing will set this value block\+\_\+lock -\/ each reading and writing operation will be done atomically and uninteruptable, using this mutex block lock reading\+\_\+done -\/ represents signal, which sends thread that just finished reading block. This signal will indicate that writing thread can start writing to block writing\+\_\+done -\/ represents signal, which sends thread that just finished writing to block. This signal will indicate that other threads can start reading from this block or even writing to it thread\+\_\+holding\+\_\+lock -\/ the only thread which can unlock locked \char`\"{}block\+\_\+lock\char`\"{} is the one that locked it. This variable makes sure that O\+N\+LY the thread, which actually holds the lock, releases it.  




{\ttfamily \#include $<$dbman.\+h$>$}

\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
short {\bfseries locked\+\_\+for\+\_\+reading}\hypertarget{structAK__block__activity_a947c78ec4ae287c627d85ce532a0a4f8}{}\label{structAK__block__activity_a947c78ec4ae287c627d85ce532a0a4f8}

\item 
short {\bfseries locked\+\_\+for\+\_\+writing}\hypertarget{structAK__block__activity_aa435ca3457738c4ceb3d087d5c215186}{}\label{structAK__block__activity_aa435ca3457738c4ceb3d087d5c215186}

\item 
pthread\+\_\+mutex\+\_\+t {\bfseries block\+\_\+lock}\hypertarget{structAK__block__activity_ae7c5e7630a1806d1a7479ede0ba59dcd}{}\label{structAK__block__activity_ae7c5e7630a1806d1a7479ede0ba59dcd}

\item 
pthread\+\_\+cond\+\_\+t {\bfseries writing\+\_\+done}\hypertarget{structAK__block__activity_a6558ddec7ea39eee98d754d2269c6c84}{}\label{structAK__block__activity_a6558ddec7ea39eee98d754d2269c6c84}

\item 
pthread\+\_\+cond\+\_\+t {\bfseries reading\+\_\+done}\hypertarget{structAK__block__activity_aae66eb07e2f614d849d3acc9f429e651}{}\label{structAK__block__activity_aae66eb07e2f614d849d3acc9f429e651}

\item 
int $\ast$ {\bfseries thread\+\_\+holding\+\_\+lock}\hypertarget{structAK__block__activity_a2a8239ee1bd19ab4ff0352e0dda2bff5}{}\label{structAK__block__activity_a2a8239ee1bd19ab4ff0352e0dda2bff5}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Structure which holds information about each block, whether it is locked for reading or writing. It is important to note such information, to enable quick and thread-\/safe reading from or writing to disk. Structure contains of\+: locked\+\_\+for\+\_\+reading -\/ thread which locks particular block for reading will set this value locked\+\_\+for\+\_\+writing -\/ thread which locks particular block for writing will set this value block\+\_\+lock -\/ each reading and writing operation will be done atomically and uninteruptable, using this mutex block lock reading\+\_\+done -\/ represents signal, which sends thread that just finished reading block. This signal will indicate that writing thread can start writing to block writing\+\_\+done -\/ represents signal, which sends thread that just finished writing to block. This signal will indicate that other threads can start reading from this block or even writing to it thread\+\_\+holding\+\_\+lock -\/ the only thread which can unlock locked \char`\"{}block\+\_\+lock\char`\"{} is the one that locked it. This variable makes sure that O\+N\+LY the thread, which actually holds the lock, releases it. 

\begin{DoxyAuthor}{Author}
Domagoj Å itum 
\end{DoxyAuthor}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
dm/\hyperlink{dbman_8h}{dbman.\+h}\end{DoxyCompactItemize}
